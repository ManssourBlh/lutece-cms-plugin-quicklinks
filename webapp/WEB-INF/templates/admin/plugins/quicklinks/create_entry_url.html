<@pageContainer>
    <@pageColumn >
        <@pageHeader title='#i18n{quicklinks.modify_entry_url.adminTitle}' />
		<@tform enctype='multipart/form-data' name='modify_entry_url' action='jsp/admin/plugins/quicklinks/DoCreateEntry.jsp' boxed=true>
		<@input type='hidden' name='entry_type_id' id='entry_type_id' value=entry.entryType.id />
		<@input type='hidden' name='quicklinks_id' id='quicklinks_id' value=entry.idQuicklinks />
		<@row>
			<@columns sm=3>
				<@formGroup labelKey='#i18n{quicklinks.modify_entry_url.labelTitle}' labelFor='title' mandatory=true>
					<@input name='title' id='title' maxlength=255 value=entry.title! />
				</@formGroup>
				<@formGroup labelKey='#i18n{quicklinks.modify_entry_url.labelUrl}' labelFor='url' mandatory=true>
					<@inputGroup>
						<@inputGroupItem>
							<@icon style='link' />
						</@inputGroupItem>
						<@input type='url' name='url' id='url' maxlength=255 value=entry.url! />
					</@inputGroup>
				</@formGroup>
				<@formGroup labelKey='#i18n{quicklinks.modify_entry_url.labelDescription}' labelFor='description'>
					<@input name='description' id='description' maxlength=255 value=entry.description! />
				</@formGroup>
			</@columns>
			<@columns sm=3>
				<@formGroup labelKey='#i18n{quicklinks.modify_entry_url.labelImage}' labelFor='image'>
					<@input type='file' name='image' id='image' />
					<@input type='hidden' name='update_image' id='update_image' value='true' />
				</@formGroup>
				<@formGroup labelKey='#i18n{quicklinks.modify_entry_url.labelDisplayProperties}' labelFor='display_properties' mandatory=true>
				<#list display_properties_list as item>
					<#assign isTargetChecked='false' />
					<#if item.code=display_properties_default_value?string><#assign isTargetChecked='true' /></#if> 
					<@radioButton name='display_properties' id='display_properties_${item.code}' labelKey='#i18n{${item.name}}' orientation='' value='${item.code}' checked=isTargetChecked?boolean />
				</#list>
				</@formGroup>
				<@formGroup labelKey='#i18n{quicklinks.modify_entry_url.labelLinkProperties}' labelFor='link_properties' mandatory=true>
				<#list link_properties_list as item>
					<#assign isTargetChecked='false' />
					<#if item.code=link_properties_default_value?string ><#assign isTargetChecked='true' /></#if> 
					<@radioButton name='link_properties' id='link_properties_${item.code}' labelKey='#i18n{${item.name}}' orientation='' value='${item.code}' checked=isTargetChecked?boolean />
				</#list>
				</@formGroup>
			</@columns>
			<@columns sm=2>
			<@fieldSet legend='#i18n{quicklinks.modify_entry_url.labelTarget}'>
				<#assign targetChecked=false />
				<#assign isTargetChecked><#if target_default_value='_blank'>true<#else>false</#if></#assign>
				<@radioButton name='target' id='blank' class='form-radio-target' labelKey='#i18n{quicklinks.modify_entry_url.target.blank}' orientation='' value='_blank' checked=isTargetChecked?boolean />
				<#assign targetChecked = true />
				<#assign isTargetChecked><#if target_default_value='_self'>true<#else>false</#if></#assign>
				<@radioButton name='target' id='self' class='form-radio-target' labelKey='#i18n{quicklinks.modify_entry_url.target.self}' orientation='' value='_self' checked=isTargetChecked?boolean />
				<#assign targetChecked = true />
				<#assign isTargetChecked><#if target_default_value='_parent'>true<#else>false</#if></#assign>
				<@radioButton name='target' id='parent' class='form-radio-target' labelKey='#i18n{quicklinks.modify_entry_url.target.parent}' orientation='' value='_parent' checked=isTargetChecked?boolean />
				<#assign targetChecked = true />
				<#assign isTargetChecked><#if target_default_value='_top'>true<#else>false</#if></#assign>
				<@radioButton name='target' id='top' class='form-radio-target' labelKey='#i18n{quicklinks.modify_entry_url.target.top}' orientation='' value='_top' checked=isTargetChecked?boolean />
				<#assign targetChecked = true />
				<@radioButton name='target' id='other' labelKey='#i18n{quicklinks.modify_entry_url.target.other}' orientation='' value='' checked=!targetChecked />
				<#assign targetDefault><#if !targetChecked>${target_default_value}</#if></#assign>
				<@formGroup labelKey='#i18n{quicklinks.modify_entry_url.labelTarget}' hideLabel=['all'] >
					<@input name='target_framename' id='target_framename' placeholder='#i18n{quicklinks.modify_entry_url.labelTarget}' maxlength=255 value=targetDefault />
				</@formGroup>
			</@fieldSet>
			</@columns>
			<@columns sm=3 class='d-flex align-items-center justify-content-around'>
				<@formGroup>
					<@button color='primary' type='submit' buttonIcon='check' title='#i18n{quicklinks.modify_entry_url.buttonLabelModify}' />
					<@aButton color='default' href="jsp/admin/plugins/quicklinks/ModifyQuicklinks.jsp?&quicklinks_id=${entry.idQuicklinks}" buttonIcon='x' title='#i18n{portal.admin.message.buttonCancel}' />
				</@formGroup>
			</@columns>
			</@row>
		</@tform>
	</@pageColumn>
</@pageContainer>
<script>
document.addEventListener( "DOMContentLoaded", function(){
	const tgFrame = document.getElementById('target_framename'), radioList = document.querySelectorAll('.form-radio-target')
	if( tgFrame.value =="" ){
		tgFrame.setAttribute( 'disabled', 'disabled' )
	}
	
	radioList.forEach( element => {
		element.addEventListener( 'click', ( event ) => {
			if( event.currentTarget.getAttribute('id' ) === 'other' ){
				tgFrame.removeAttribute( 'disabled' )
			} else {
				tgFrame.value='';
				tgFrame.setAttribute( 'disabled', 'disabled' )
			}
		})
	})
});
</script>
<#--
<div class="row">
	<div class="col-xs-12 col-sm-12 col-md-12">
		<div class="box box-primary">
			<div class="box-header">
				<h3 class="box-title">#i18n{quicklinks.create_entry_url.adminTitle}</h3>
			</div>
			<div class="box-body">
				<form class="form-horizontal" role="form" method="post" enctype="multipart/form-data" name="create_entry_url" action="jsp/admin/plugins/quicklinks/DoCreateEntry.jsp">
				<input type="hidden" name="entry_type_id" id="entry_type_id" value="${entry.entryType.id}">
				<input type="hidden" name="quicklinks_id" id="quicklinks_id" value="${entry.idQuicklinks}">
				<div class="form-group">
					<label class="control-label col-xs-12 col-sm-2 col-md-2" for="title">#i18n{quicklinks.create_entry_url.labelTitle} *</label>
					 <div class="col-xs-12 col-sm-4 col-md-4">
						<input type="text" required name="title" id="title" tabindex="1" class="form-control" maxlength="255" value="${entry.title!}">
					</div>
				</div>
				<div class="form-group">
					<label class="control-label col-xs-12 col-sm-2 col-md-2" for="target">#i18n{quicklinks.create_entry_url.labelTarget} *</label>
					<#assign targetChecked = false />
					<div class="col-xs-12 col-sm-10 col-md-10">
						<label class="radio-inline">
							<input type="radio" name="target" id="target1" value="_blank" <#if target_default_value = "_blank">checked="checked"</#if>> 
							#i18n{quicklinks.create_entry_url.target.blank}
						</label>
						<#assign targetChecked = true />
						<label class="radio-inline">
							<input type="radio" name="target" id="target2" value="_self"  <#if target_default_value = "_self">checked="checked"</#if>> 
							#i18n{quicklinks.create_entry_url.target.self}
						</label>
						<#assign targetChecked = true />
						<label class="radio-inline">
							<input type="radio" name="target" id="target3" value="_parent"  <#if target_default_value = "_parent">checked="checked"</#if>> 
							#i18n{quicklinks.create_entry_url.target.parent}
						</label>
						<#assign targetChecked = true />
						<label class="radio-inline">
							<input type="radio" name="target" id="target4" value="_top" <#if target_default_value = "_top">checked="checked"</#if>> 
							#i18n{quicklinks.create_entry_url.target.top}
						</label>
						<#assign targetChecked = true />
						<label class="radio-inline">
							<input type="radio" name="target" id="target5" value="" <#if !targetChecked>>checked="checked"</#if>> 
							#i18n{quicklinks.create_entry_url.target.other}</label>
						</label>
						<label class="radio-inline">
							<input type="text" name="target_framename" id="target_framename" tabindex="2" class="form-control input-sm" placeholder="#i18n{quicklinks.modify_entry_url.labelTarget} *" title="#i18n{quicklinks.modify_entry_url.labelTarget} *"  maxlength="255" value="<#if !targetChecked>${target_default_value}</#if>">
						</label>
					</div>
				</div>
				<div class="form-group">
					<label class="control-label col-xs-12 col-sm-2 col-md-2" for="description">#i18n{quicklinks.create_entry_url.labelDescription}</label>
					<div class="col-xs-12 col-sm-4 col-md-4">
						<input type="text" name="description" id="description" tabindex="3" class="form-control" maxlength="255" value="">
					</div>
				</div>
				<div class="form-group">
				<label class="control-label col-xs-12 col-sm-2 col-md-2" for="url">#i18n{quicklinks.create_entry_url.labelUrl} *</label>
					<div class="col-xs-12 col-sm-4 col-md-4">
						<input type="text" required name="url" id="url" tabindex="3" maxlength="255" value="" class="form-control">
					</div>
				</div>
				<div class="form-group">
					<label class="control-label col-xs-12 col-sm-2 col-md-2" for="image">#i18n{quicklinks.create_entry_url.labelImage}</label>
					<div class="col-xs-12 col-sm-4 col-md-4">
						<input type="file" name="image" id="image" tabindex="4" >
						<input type="hidden" name="update_image" id="update_image" value="true" >
					</div>
				</div>
				<div class="form-group">
					<label class="control-label col-xs-12 col-sm-2 col-md-2" for="display_properties">#i18n{quicklinks.create_entry_url.labelDisplayProperties} *</label>
					<div class="col-xs-12 col-sm-10 col-md-10">
					<#list display_properties_list as item>
						<label class="radio-inline">
							<input type="radio" tabindex="6" <#if item.code="${display_properties_default_value}">checked="checked"</#if> name="display_properties" value="${item.code}">#i18n{${item.name}}
						</label>
					</#list>
					</div>
				</div> 
				<div class="form-group">
					<label class="control-label col-xs-12 col-sm-2 col-md-2" for="link_properties">#i18n{quicklinks.create_entry_url.labelLinkProperties} *</label>
					<div class="col-xs-12 col-sm-10 col-md-10">
					<#list link_properties_list as item>
						<label class="radio-inline">
							<input type="radio" tabindex="7" <#if item.code="${link_properties_default_value}">checked="checked"</#if> name="link_properties" value="${item.code}" />#i18n{${item.name}}
						</label>
					</#list>
					</div>
				</div> 
				<div class="form-group">
					<div class="col-xs-12 col-sm-offset-2 col-sm-10 col-md-offset-2 col-md-10">
						<button class="btn btn-primary btn-flat" type="submit" >
							<i class="fa fa-check"></i>&nbsp;#i18n{quicklinks.create_entry_url.buttonLabelCreate}</button>
						<a class="btn btn-default btn-flat" href="jsp/admin/plugins/quicklinks/ModifyQuicklinks.jsp?&quicklinks_id=${entry.idQuicklinks}">
							<i class="fa fa-close"></i>&nbsp;#i18n{portal.admin.message.buttonCancel}
						</a>
					</div>
				</div>
				</form>
			</div>
		</div>
	</div>
</div>

<script language="javascript">
$(document).ready( function(){
	$("#target_framename").attr("disabled","disabled");
	
	$('input[type="radio"]').click( function(){
		if($(this).attr("id") =="target5" ){
			$("#target_framename").removeAttr("disabled");
		} else {
			$("#target_framename").val("");
			$("#target_framename").attr("disabled","disabled");
		}
	});
});
</script>

-->